<div *ngIf="!user; else profileContent">Loading...</div>

<ng-template #profileContent>
  
  <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden mt-30">
    <h1 style="text-align: center; margin-top: 20px; font-size: 30px;">Profile</h1>
    <div class="flex flex-col items-center p-6">
      <img 
          class="w-32 h-32 rounded-full object-cover border-4 border-indigo-500 shadow-lg mb-4"
          [src]="user.profileImage || 'https://via.placeholder.com/150'"
          alt="Profile Image"
      />
      <h2 class="text-2xl font-bold text-gray-800 mb-1">
          {{ user.firstName }} {{ user.lastName }}
      </h2>
      <p class="text-indigo-600 font-medium mb-2">{{ user.userName }}</p>
      <div class="w-full border-t border-gray-200 my-4"></div>
      <div class="w-full flex flex-col gap-2">
          <div class="flex items-center">
              <span class="w-28 text-gray-600 font-semibold">Email:</span>
              <span class="text-gray-800">{{ user.email }}</span>
          </div>
          <div class="flex items-center">
              <span class="w-28 text-gray-600 font-semibold">User ID:</span>
              <span class="text-gray-800">{{ user._id }}</span>
          </div>
      </div>
    </div>

    
  </div>
</ng-template>

<section style="
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
">
  <h2 class="text-2xl font-bold text-gray-800 mb-1 mt-6">Read Books</h2>
    <table class="w-300 mt-4 border">
      <thead>
        <tr>
          <th class="border px-4 py-2">Title</th>
          <th class="border px-4 py-2">Price</th>
          <th class="border px-4 py-2">ISBN</th>
          <th class="border px-4 py-2">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let book of readBooks; let i = index">
          <td class="border px-4 py-2">{{ book.title }}</td>
          <td class="border px-4 py-2">{{ book.price }}</td>
          <td class="border px-4 py-2">{{ book.isbn13 }}</td>
          <td class="border px-4 py-2">
            <button (click)="deleteBook(i)" class="bg-red-500 text-white px-2 py-1 rounded">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="readBooks.length === 0" class="mt-4 text-gray-500">No books read yet.</div>
</section>